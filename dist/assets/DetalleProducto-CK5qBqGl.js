import{r as i,u as g,j as e,b as N}from"./index-BS7yygty.js";import{C as v}from"./Data_Catalogo-BValZcSX.js";import{A as w}from"./AlertaSimple-Cz13oxos.js";import{N as b,F as h}from"./Footer-BY6JQjk0.js";const C={TC001:"Bizcocho de chocolate intenso elaborado con cacao puro y mantequilla natural. Su textura húmeda y su sabor profundo la hacen ideal para los amantes del chocolate. Perfecta para celebraciones o acompañar con café.",TC002:"Torta esponjosa con trozos de frutas naturales, equilibrada en dulzura y con aroma fresco. Ideal para quienes buscan un postre liviano y colorido, lleno de sabor y textura.",TT001:"Torta circular de vainilla preparada con ingredientes frescos y extracto natural de vainilla. Su masa suave y su cobertura cremosa hacen de este clásico una opción perfecta para cualquier ocasión.",TT002:"Torta artesanal rellena con manjar y cubierta con un glaseado dorado. Combina el dulzor justo con una textura suave y ligera, ideal para compartir con familia y amigos.",PI001:"Delicioso mousse con textura ligera y sabor profundo, elaborado con cacao 70%. Presentación individual ideal para catering o consumo personal.",PI002:"Nuestro tiramisú conserva la receta tradicional italiana, con capas de bizcocho empapado en café y crema de mascarpone, sin conservantes ni saborizantes artificiales.",PSA001:"Bizcocho húmedo endulzado con stevia, preparado con jugo natural de naranja. Ideal para personas que buscan opciones sin azúcar refinada sin renunciar al sabor.",PSA002:"Endulzado naturalmente, nuestro Cheesecake sin azúcar ofrece un equilibrio entre suavidad y frescura, perfecto para quienes cuidan su alimentación.",PT001:"Receta tradicional con trozos de manzana caramelizada y canela. Ideal para acompañar con té o café.",PT002:"La auténtica Tarta de Santiago, elaborada con harina de almendra, sin gluten y con sabor a tradición española.",PG001:"Textura húmeda y sabor profundo. Hecho con harina de almendras, sin gluten ni conservantes, apto para celíacos.",PG002:"Elaborado con mezcla de harinas naturales sin trigo. Perfecto para quienes buscan una dieta libre de gluten.",PV001:"Elaborada con cacao puro y aceite vegetal. Su textura húmeda y sabor intenso la convierten en la favorita del catálogo vegano.",PV002:"Crujientes por fuera y suaves por dentro. Una opción nutritiva, libre de ingredientes de origen animal.",TE001:"Personalizable con mensajes o decoraciones. Bizcocho suave, relleno a elección y cobertura cremosa.",TE002:"Hecha por encargo, con diseños personalizados. Sabor delicado, decoración premium y presentación impecable."};function S({catalogo:t,productoId:s}){const[c,r]=i.useState([]),l=g();return i.useEffect(()=>{const a=t.filter(m=>m.id!==s).sort(()=>Math.random()-.5).slice(0,3);r(a)},[t,s]),c.length===0?null:e.jsxs("div",{className:"container-lg my-5",children:[e.jsx("h4",{className:"text-center text-secondary mb-4",children:"También te puede gustar"}),e.jsx("div",{className:"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4 justify-content-center",children:c.map(a=>e.jsx("div",{className:"col",style:{maxWidth:"320px"},children:e.jsxs("div",{className:"card h-100 shadow-sm border-0 rounded-4 overflow-hidden",children:[e.jsx("img",{src:a.imagen,alt:a.nombre,className:"card-img-top",style:{height:"200px",objectFit:"cover"}}),e.jsxs("div",{className:"card-body text-center",children:[e.jsx("h5",{className:"card-title fw-medium text-dark mb-2 fs-5",children:a.nombre}),e.jsxs("button",{id:"Detalle-boton",className:"btn btn-sm px-4",onClick:()=>l(`/producto/${a.id}`),children:[e.jsx("i",{className:"bi bi-eye me-2"}),"Ver Producto"]})]})]})},a.id))})]})}function E(){const{id:t}=N(),{catalogo:s}=v(),c=g(),[r,l]=i.useState(1),a=s.find(o=>o.id.toString()===t),m=C[t],[p,n]=i.useState({msg:"",type:""}),x=i.useRef(!1);if(!s||s.length===0)return e.jsxs(e.Fragment,{children:[e.jsx(b,{}),e.jsx("div",{className:"container mt-5 text-center",children:e.jsx("h2",{children:"Cargando producto..."})}),e.jsx(h,{})]});if(!a&&!x.current)return x.current=!0,n({msg:"Producto no encontrado",type:"danger"}),c("/productos"),null;const f=()=>{r<8?l(r+1):n({msg:"Cantidad máxima: 8 unidades",type:"warning"})},y=()=>{r>1&&l(r-1)},j=()=>{if(r<1||isNaN(r)){n({msg:"Debes seleccionar al menos 1 unidad",type:"warning"});return}const o=JSON.parse(localStorage.getItem("cart"))||[],d=o.find(u=>u.id===a.id);if(d){const u=Math.min(d.cantidad+r,8);d.cantidad+r>8&&n({msg:"Cantidad máxima: 8 unidades",type:"warning"}),d.cantidad=u}else o.push({...a,cantidad:r});localStorage.setItem("cart",JSON.stringify(o)),n({msg:`${a.nombre} agregado al carrito (${r} unidad${r>1?"es":""})`,type:"success"})};return e.jsxs(e.Fragment,{children:[e.jsx(b,{}),e.jsx(w,{message:p.msg,type:p.type,onClose:()=>n({msg:"",type:""})}),e.jsx("div",{className:"container-fluid py-5 px-md-5 bg-light",children:e.jsxs("div",{className:"container-lg p-4 bg-white rounded-4 shadow-sm",children:[e.jsx("nav",{"aria-label":"breadcrumb",className:"mb-4",children:e.jsxs("ol",{className:"breadcrumb mb-0",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx("a",{href:"/",className:"text-decoration-none text-secondary",children:"Inicio"})}),e.jsx("li",{className:"breadcrumb-item",children:e.jsx("a",{href:"/productos",className:"text-decoration-none text-secondary",children:"Productos"})}),e.jsx("li",{className:"breadcrumb-item active text-dark","aria-current":"page",children:a?.nombre||"Producto"})]})}),e.jsxs("div",{className:"row align-items-center g-5",children:[e.jsx("div",{className:"col-lg-6 col-md-6 text-center",children:e.jsx("img",{src:a?.imagen,alt:a?.nombre,className:"img-fluid rounded-4 shadow",style:{maxHeight:"480px",width:"100%",objectFit:"cover"}})}),e.jsxs("div",{className:"col-lg-6 col-md-6 text-center text-md-start",children:[e.jsx("h2",{className:"text-uppercase fw-bold display-5 mb-3",style:{color:"#b1976b"},children:a?.nombre}),e.jsxs("h4",{className:"fw-semibold mb-4",style:{color:"#6c757d"},children:["$",a?.precio?.toLocaleString()||"0"]}),e.jsx("p",{className:"text-muted",style:{fontSize:"1rem",lineHeight:"1.8",color:"#6f6f6f",fontWeight:"400",letterSpacing:"0.3px"},children:m||"Descripción no disponible."}),e.jsxs("div",{className:"d-flex flex-column flex-md-row align-items-center gap-3 mt-4",children:[e.jsxs("div",{className:"d-flex align-items-center border rounded",style:{width:"120px",height:"42px"},children:[e.jsx("button",{type:"button",className:"btn btn-sm text-secondary border-0 px-2",style:{fontSize:"1.3rem",lineHeight:"1"},onClick:y,children:"−"}),e.jsx("input",{type:"text",value:r,readOnly:!0,className:"form-control text-center border-0 shadow-none",style:{width:"50px",backgroundColor:"transparent",fontSize:"1rem",color:"#5a5a5a"}}),e.jsx("button",{type:"button",className:"btn btn-sm text-secondary border-0 px-2",style:{fontSize:"1.3rem",lineHeight:"1"},onClick:f,children:"+"})]}),e.jsxs("div",{className:"d-flex flex-column flex-sm-row gap-3",children:[e.jsxs("button",{className:"btn text-white fw-semibold px-4 py-2",style:{backgroundColor:"#b1976b",border:"none",borderRadius:"50px",minWidth:"180px",transition:"all 0.3s ease",whiteSpace:"nowrap"},onClick:j,children:[e.jsx("i",{className:"bi bi-cart-plus me-2"}),"Añadir al carrito"]}),e.jsx("button",{className:"btn text-white fw-semibold px-4 py-2",style:{backgroundColor:"#8a817c",border:"none",borderRadius:"50px",minWidth:"180px",transition:"all 0.3s ease",whiteSpace:"nowrap"},children:"Comprar ahora"})]})]})]})]})]})}),e.jsx(S,{catalogo:s,productoId:a?.id}),e.jsx(h,{})]})}export{E as default};
